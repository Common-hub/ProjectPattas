<div class="container py-4">
    <div class="row justify-content-center">
      <div class="col-12 col-sm-8 col-md-6 col-lg-5">
  
        <!-- Logo -->
        <div class="text-end mb-3">
          <img src="../../assets/SPP.png" class="img-fluid" style="max-width: 100px;" alt="Logo">
        </div>
  
        <!-- Login Form -->
        <form id="login" [formGroup]="login" *ngIf="LoginBool" class="card p-3 shadow-sm">
          <h3 class="mb-3">{{ head }}</h3>
  
          <!-- Username -->
          <label class="form-label">
            <sup class="text-danger fw-bold">*</sup> Username
          </label>
          <input type="text" class="form-control" placeholder="Username" formControlName="userName" autofocus>
          <div class="text-danger small mt-1"
               *ngIf="login.controls['userName'].touched && login.controls['userName'].invalid">
            <small *ngIf="login.controls['userName'].errors?.['required']">UserName is a Mandatory Field</small>
            <small *ngIf="login.controls['userName'].errors?.['email']">Enter a valid email</small>
          </div>
  
          <!-- Password -->
          <label class="form-label mt-3">
            <sup class="text-danger fw-bold">*</sup> Password
          </label>
          <input type="password" class="form-control" placeholder="Password" formControlName="password">
          <div class="text-danger small mt-1"
               *ngIf="login.controls['password'].touched && login.controls['password'].invalid">
            <small *ngIf="login.controls['password'].errors?.['required']">Password is a Mandatory Field</small>
          </div>
        </form>
  
        <!-- Signup Form -->
        <form id="signup" *ngIf="signUpBool" [formGroup]="sign" class="card p-3 shadow-sm">
          <h3 class="mb-3">{{ head }}</h3>
  
          <div *ngIf="!EmailVerify">
            <!-- Name -->
            <label class="form-label">Name</label>
            <input type="text" class="form-control" placeholder="Enter username" formControlName="name">
            <div class="text-danger small mt-1"
                 *ngIf="sign.controls['name'].touched && sign.controls['name'].invalid">
              <small *ngIf="sign.controls['name'].errors?.['required']">UserName is a Mandatory Field</small>
            </div>
  
            <!-- Email -->
            <label class="form-label mt-3">E-mail</label>
            <input type="email" class="form-control" placeholder="Enter Email" formControlName="email">
            <div class="text-danger small mt-1"
                 *ngIf="sign.controls['email'].touched && sign.controls['email'].invalid">
              <small *ngIf="sign.controls['email'].errors?.['required']">Email is a Mandatory Field</small>
              <small *ngIf="sign.controls['email'].errors?.['email']">Enter a valid email</small>
            </div>
  
            <!-- Phone -->
            <label class="form-label mt-3">Phone Number</label>
            <input type="number" class="form-control" placeholder="Enter contact number" formControlName="mobile">
            <div class="text-danger small mt-1"
                 *ngIf="sign.controls['mobile'].touched && sign.controls['mobile'].invalid">
              <small *ngIf="sign.controls['mobile'].errors?.['required']">Phone number is a Mandatory Field</small>
            </div>
  
            <!-- Password -->
            <label class="form-label mt-3">Password</label>
            <input type="password" class="form-control" placeholder="Password" minlength="8" formControlName="password">
            <div class="text-danger small mt-1"
                 *ngIf="sign.controls['password'].touched && sign.controls['password'].invalid">
              <small *ngIf="sign.controls['password'].errors?.['required']">Password is a Mandatory Field</small>
              <small *ngIf="sign.controls['password'].errors?.['minlength']">Password must have at least 8 characters</small>
            </div>
  
            <!-- Confirm Password -->
            <label class="form-label mt-3">Confirm Password</label>
            <input type="password" class="form-control" placeholder="Password" minlength="8" formControlName="cPassword">
            <div class="text-danger small mt-1"
                 *ngIf="(sign.controls['cPassword'].touched && sign.controls['cPassword'].invalid) || !passwordMatchValidator()">
              <small *ngIf="sign.controls['cPassword'].errors?.['required']">Password is a Mandatory Field</small>
              <small *ngIf="sign.controls['cPassword'].errors?.['minlength']">Password must have at least 8 characters</small>
              <small *ngIf="!passwordMatchValidator()">Password and Confirm Password should match</small>
            </div>
          </div>
  
          <!-- OTP Verification -->
          <div *ngIf="EmailVerify">
            <p>Check your mail Inbox for OTP</p>
            <input type="text" class="form-control" placeholder="Enter OTP" maxlength="6" formControlName="OTP">
            <div class="text-danger small mt-1"
                 *ngIf="sign.controls['OTP'].touched && sign.controls['OTP'].invalid">
              <small *ngIf="sign.controls['OTP'].errors?.['required']">OTP is a Mandatory Field</small>
              <small *ngIf="sign.controls['OTP'].errors?.['minlength']">OTP must have at least 6 characters</small>
            </div>
            <p class="mt-2">Time remaining: {{ minutes }}:{{ seconds < 10 ? '0' : '' }}{{ seconds }}</p>
          </div>
        </form>
  
        <!-- Buttons -->
        <div class="d-flex justify-content-between mt-3">
          <ng-container *ngIf="LoginBool">
            <button type="submit" class="btn btn-primary" [disabled]="login.invalid" (click)="userLogin()">Login</button>
          </ng-container>
          <ng-container *ngIf="signUpBool">
            <button type="submit" class="btn btn-success" [disabled]="!passwordMatchValidator() || sign.invalid"
                    (click)="register()">Sign Up</button>
          </ng-container>
          <ng-container *ngIf="EmailVerify">
            <button class="btn btn-secondary" [disabled]="!canResend && enabled" (click)="resendOtp()">Resend OTP</button>
            <button type="submit" class="btn btn-success" [disabled]="sign.invalid && enabled" (click)="verify()">Verify</button>
          </ng-container>
        </div>
  
        <!-- Links -->
        <div class="mt-3 text-center">
          <p (click)="navigate()" *ngIf="LoginBool" class="text-primary" style="cursor: pointer;">Home</p>
          <p (click)="changeForm('S')" *ngIf="!signUpBool" class="text-primary" style="cursor: pointer;">Sign Up!</p>
          <p (click)="changeForm('L')" *ngIf="!LoginBool" class="text-primary" style="cursor: pointer;">Login!</p>
        </div>
  
      </div>
    </div>
  </div>
  
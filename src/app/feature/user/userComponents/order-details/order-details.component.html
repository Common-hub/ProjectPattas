<section class="my-5">
    <div class="main-body">
        <div class="row">
            <div class="col-lg-4">
                <div class="card">
                    <div class="card-body">
                        <div class="d-flex flex-column align-items-center text-center">
                            <img src="https://bootdey.com/img/Content/avatar/avatar6.png" alt="Admin"
                                class="rounded-circle p-1 bg-warning" width="110">
                            <div class="mt-3">
                                <h4>{{userdetails.name}}</h4>
                                <p class="text-secondary mb-1">{{userdetails.email}}</p>
                                <p class="text-muted font-size-sm">{{userdetails.address}}</p>
                            </div>
                        </div>
                        <div class="list-group list-group-flush text-center mt-4">
                            <a class="list-group-item list-group-item-action border-0">
                                Profile Informaton
                            </a>
                            <a (click)="screentoggle('Orders')" class="list-group-item list-group-item-action border-0"
                                [class.active]="isOrder || isSpecorder">Orders</a>
                            <a *ngIf="isAdd" class="list-group-item list-group-item-action border-0"
                                [class.active]="isAdd">Address
                                Book</a>
                            <a href="#" class="list-group-item list-group-item-action border-0"
                                (click)="logout()">Logout</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-8" *ngIf="isSpecorder">
                <div>
                    <div class="card mt-4">
                        <div class="card-body p-0 table-responsive">
                            <div
                                style="border: 1px solid; display: flex; justify-content: space-between; align-items: center;">
                                <h4 class="p-3 mb-0">Order OverView</h4>
                                <label for="download" class="p-3 mb-0" style="margin-left: auto;cursor: pointer"
                                    (click)="downloadInvoice()">Save Invoice</label>
                            </div>
                            <table class="table mb-0">
                                <thead>
                                    <tr>
                                        <th scope="col">Product</th>
                                        <th scope="col">Quantity</th>
                                        <th scope="col" colspan="2">Price</th>
                                        <th scope="col">Amount</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let order of specOrders; let i = index">
                                        <td>{{order.product.name}}</td>
                                        <td>{{order.quantity}}</td>
                                        <td colspan="2"><strong>₹ {{order.discount === 0 ? +order.price : (+order.price
                                                - (+order.price *
                                                (+order.discount / 100))) | number: '1.0-2'}}</strong></td>
                                        <td><strong>₹ {{+order.quantity * (order.discount === 0 ? +order.price :
                                                +order.price - (+order.price * (+order.discount / 100))) | number:
                                                '1.0-2'}}</strong></td>
                                    </tr>
                                    <tr>
                                        <th colspan="2">
                                            Payment Status: <span class="badge badge-warning">PENDING</span>
                                        </th>
                                        <th colspan="6" style="text-align: right;">
                                            <span class="text-muted">Total Price</span> <br>
                                            <strong>₹ {{totalPrice}}</strong>
                                        </th>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <!-- <div class="card mt-4">
                        <div class="card-body">
                            <h4>Timeline</h4>
                            <ul class="timeline">
                                <li class="active">
                                    <h6>ORDER CONFIRMED</h6>
                                    <p class="mb-0 text-muted">We are working with your Order.</p>
                                </li>
                                <li>
                                    <h6>PACKED</h6>
                                    <p class="mb-0 text-muted">Order is ready for dispach</p>
                                    <p class="text-muted">21 March, 2014</p>
                                </li>
                                <li>
                                    <h6>DISPACHED</h6>
                                    <p class="mb-0 text-muted">Your order is with our Logistics Parter //name -
                                        //trackernumber</p>
                                    <p class="text-muted">21 March, 2014</p>
                                </li>
                                <li>
                                    <h6>SHIPPED</h6>
                                    <p class="mb-0 text-muted">Your order is on the way, Hope it will reach you
                                        soon
                                    </p>
                                    <p class="text-muted">21 March, 2014</p>
                                </li>
                                <li>
                                    <h6>DELIVERED</h6>
                                    <p class="mb-0 text-muted">Complete, Thank You for the Order</p>
                                    <p class="text-muted">21 March, 2014</p>
                                </li>
                            </ul>
                        </div>
                    </div> -->
                </div>
            </div>
            <div class="col-lg-8" *ngIf="isOrder">
                <ng-container *ngIf="orders.length === 0">
                    <table class="noData" *ngIf="orders.length === 0">
                        <thead>
                            <tr colspan="6">
                                <td><Strong>No Orders yet place order to recive items. to process <a
                                            [routerLink]="[ 'user/productsList']">
                                            click here</a>.</Strong></td>
                            </tr>
                        </thead>
                    </table>
                </ng-container>
                <ng-container *ngIf="orders.length >=1">
                    <div>
                        <div class="card">
                            <div class="card-body">
                                <div class="top-status">
                                    <h5>ORDER #{{orders[0].orderId}}</h5>
                                    <ul>
                                        <li *ngFor="let statusMsg of getCurrentState() ; let i = index"
                                            ngClass="active">
                                            <svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1"
                                                *ngIf="orders[0].status !== 'CANCELLED'" viewBox="0 0 512 512"
                                                width="50" height="50">
                                                <title> Clock Delivery package </title>
                                                <path
                                                    d="M316.96,424.4A96,96,0,1,1,400,472.22,95.391,95.391,0,0,1,316.96,424.4Z"
                                                    style="fill:#6fe3ff" />
                                                <path
                                                    d="M400,135.55V280.22A96.008,96.008,0,0,0,316.96,424.4L208,487.3V246.38L399.98,135.54Z"
                                                    style="fill:#c16752" />
                                                <polygon
                                                    points="208 246.38 141.14 207.78 333.13 96.94 399.98 135.54 208 246.38"
                                                    style="fill:#e48e66" />
                                                <polygon
                                                    points="333.13 96.94 141.14 207.78 92.21 179.53 284.19 68.69 333.13 96.94"
                                                    style="fill:#e5d45a" />
                                                <polygon
                                                    points="208 24.7 284.19 68.69 92.21 179.53 92.2 179.53 16.02 135.54 208 24.7"
                                                    style="fill:#af593c" />
                                                <polygon
                                                    points="208 246.38 208 487.3 16 376.45 16 135.55 16.02 135.54 92.2 179.53 92.2 339.28 115.45 329.68 140.8 358.48 140.8 207.98 141.14 207.78 208 246.38"
                                                    style="fill:#e48e66" />
                                                <polygon
                                                    points="141.14 207.78 140.8 207.98 140.8 358.48 115.45 329.68 92.2 339.28 92.2 179.53 92.21 179.53 141.14 207.78"
                                                    style="fill:#f8ec7d" />
                                                <path
                                                    d="M284.75,269.594l-17.9-18.959a7,7,0,0,0-11.256,1.49l-16.9,31.44a7,7,0,0,0,6.16,10.316,7.185,7.185,0,0,0,6.292-3.687L255,283.247V343.42a7,7,0,1,0,14,0V273.051l5.69,6.154a6.927,6.927,0,0,0,9.835.285A7,7,0,0,0,284.75,269.594Z"
                                                    style="fill:#6fe3ff" />
                                                <path
                                                    d="M40.83,378.37a7,7,0,0,1-7-7V345.45a7,7,0,0,1,14,0v25.92A7,7,0,0,1,40.83,378.37Z"
                                                    style="fill:#f8ec7d" />
                                                <path
                                                    d="M69.25,395a7,7,0,0,1-7-7V364.65a7,7,0,0,1,14,0V388A7,7,0,0,1,69.25,395Z"
                                                    style="fill:#f8ec7d" />
                                                <path
                                                    d="M97.68,411.41a7,7,0,0,1-7-7V383.85a7,7,0,0,1,14,0v20.56A7,7,0,0,1,97.68,411.41Z"
                                                    style="fill:#f8ec7d" />
                                                <path
                                                    d="M126.1,427.82a7,7,0,0,1-7-7V403.05a7,7,0,0,1,14,0v17.77A7,7,0,0,1,126.1,427.82Z"
                                                    style="fill:#f8ec7d" />
                                                <path
                                                    d="M154.52,444.61a7,7,0,0,1-7-7V422.25a7,7,0,0,1,14,0v15.36A7,7,0,0,1,154.52,444.61Z"
                                                    style="fill:#f8ec7d" />
                                                <path
                                                    d="M247.777,384.941a7,7,0,0,1-3.507-13.064l31.89-18.41a7,7,0,0,1,7,12.125L251.27,384A6.964,6.964,0,0,1,247.777,384.941Z"
                                                    style="fill:#f8ec7d" />
                                                <path
                                                    d="M432.039,413.22a6.975,6.975,0,0,1-4.783-1.89l-32.04-30A7,7,0,0,1,393,376.22V313.97a7,7,0,0,1,14,0v59.215l29.824,27.925a7,7,0,0,1-4.785,12.11Z"
                                                    style="fill:#2561a1" />
                                            </svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1"
                                                *ngIf="orders[0].status === 'CANCELLED'" viewBox="0 0 512 512"
                                                width="50" height="50">
                                                <title> Clock Delivery package </title>
                                                <path
                                                    d="M316.96,424.4A96,96,0,1,1,400,472.22,95.391,95.391,0,0,1,316.96,424.4Z"
                                                    style="fill:#b6cdd3" />
                                                <path
                                                    d="M400,135.55V280.22A96.008,96.008,0,0,0,316.96,424.4L208,487.3V246.38L399.98,135.54Z"
                                                    style="fill:#bda9a5" />
                                                <polygon
                                                    points="208 246.38 141.14 207.78 333.13 96.94 399.98 135.54 208 246.38"
                                                    style="fill:#bda9a5" />
                                                <polygon
                                                    points="333.13 96.94 141.14 207.78 92.21 179.53 284.19 68.69 333.13 96.94"
                                                    style="fill:#e5d45a" />
                                                <polygon
                                                    points="208 24.7 284.19 68.69 92.21 179.53 92.2 179.53 16.02 135.54 208 24.7"
                                                    style="fill:#bda9a5" />
                                                <polygon
                                                    points="208 246.38 208 487.3 16 376.45 16 135.55 16.02 135.54 92.2 179.53 92.2 339.28 115.45 329.68 140.8 358.48 140.8 207.98 141.14 207.78 208 246.38"
                                                    style="fill:#bda9a5" />
                                                <polygon
                                                    points="141.14 207.78 140.8 207.98 140.8 358.48 115.45 329.68 92.2 339.28 92.2 179.53 92.21 179.53 141.14 207.78"
                                                    style="fill:#f8ec7d" />
                                                <path
                                                    d="M284.75,269.594l-17.9-18.959a7,7,0,0,0-11.256,1.49l-16.9,31.44a7,7,0,0,0,6.16,10.316,7.185,7.185,0,0,0,6.292-3.687L255,283.247V343.42a7,7,0,1,0,14,0V273.051l5.69,6.154a6.927,6.927,0,0,0,9.835.285A7,7,0,0,0,284.75,269.594Z"
                                                    style="fill:#6fe3ff" />
                                                <path
                                                    d="M40.83,378.37a7,7,0,0,1-7-7V345.45a7,7,0,0,1,14,0v25.92A7,7,0,0,1,40.83,378.37Z"
                                                    style="fill:#f8ec7d" />
                                                <path
                                                    d="M69.25,395a7,7,0,0,1-7-7V364.65a7,7,0,0,1,14,0V388A7,7,0,0,1,69.25,395Z"
                                                    style="fill:#f8ec7d" />
                                                <path
                                                    d="M97.68,411.41a7,7,0,0,1-7-7V383.85a7,7,0,0,1,14,0v20.56A7,7,0,0,1,97.68,411.41Z"
                                                    style="fill:#f8ec7d" />
                                                <path
                                                    d="M126.1,427.82a7,7,0,0,1-7-7V403.05a7,7,0,0,1,14,0v17.77A7,7,0,0,1,126.1,427.82Z"
                                                    style="fill:#f8ec7d" />
                                                <path
                                                    d="M154.52,444.61a7,7,0,0,1-7-7V422.25a7,7,0,0,1,14,0v15.36A7,7,0,0,1,154.52,444.61Z"
                                                    style="fill:#f8ec7d" />
                                                <path
                                                    d="M247.777,384.941a7,7,0,0,1-3.507-13.064l31.89-18.41a7,7,0,0,1,7,12.125L251.27,384A6.964,6.964,0,0,1,247.777,384.941Z"
                                                    style="fill:#f8ec7d" />
                                                <path
                                                    d="M432.039,413.22a6.975,6.975,0,0,1-4.783-1.89l-32.04-30A7,7,0,0,1,393,376.22V313.97a7,7,0,0,1,14,0v59.215l29.824,27.925a7,7,0,0,1-4.785,12.11Z"
                                                    style="fill:#da1818" />
                                            </svg>
                                            <span>{{statusMsg}}</span>
                                        </li>
                                        <li
                                            *ngIf="orders[0].status === 'CANCELLED' ||  orders[0].status === 'REFUNDED'|| orders[0].status === 'RETURNED'|| orders[0].status === 'FAILED'">
                                            <svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1"
                                                viewBox="0 0 512 512" width="50" height="50">
                                                <title> Clock Delivery package </title>
                                                <path
                                                    d="M316.96,424.4A96,96,0,1,1,400,472.22,95.391,95.391,0,0,1,316.96,424.4Z"
                                                    style="fill:#b6cdd3" />
                                                <path
                                                    d="M400,135.55V280.22A96.008,96.008,0,0,0,316.96,424.4L208,487.3V246.38L399.98,135.54Z"
                                                    style="fill:#bda9a5" />
                                                <polygon
                                                    points="208 246.38 141.14 207.78 333.13 96.94 399.98 135.54 208 246.38"
                                                    style="fill:#bda9a5" />
                                                <polygon
                                                    points="333.13 96.94 141.14 207.78 92.21 179.53 284.19 68.69 333.13 96.94"
                                                    style="fill:#e5d45a" />
                                                <polygon
                                                    points="208 24.7 284.19 68.69 92.21 179.53 92.2 179.53 16.02 135.54 208 24.7"
                                                    style="fill:#bda9a5" />
                                                <polygon
                                                    points="208 246.38 208 487.3 16 376.45 16 135.55 16.02 135.54 92.2 179.53 92.2 339.28 115.45 329.68 140.8 358.48 140.8 207.98 141.14 207.78 208 246.38"
                                                    style="fill:#bda9a5" />
                                                <polygon
                                                    points="141.14 207.78 140.8 207.98 140.8 358.48 115.45 329.68 92.2 339.28 92.2 179.53 92.21 179.53 141.14 207.78"
                                                    style="fill:#f8ec7d" />
                                                <path
                                                    d="M284.75,269.594l-17.9-18.959a7,7,0,0,0-11.256,1.49l-16.9,31.44a7,7,0,0,0,6.16,10.316,7.185,7.185,0,0,0,6.292-3.687L255,283.247V343.42a7,7,0,1,0,14,0V273.051l5.69,6.154a6.927,6.927,0,0,0,9.835.285A7,7,0,0,0,284.75,269.594Z"
                                                    style="fill:#6fe3ff" />
                                                <path
                                                    d="M40.83,378.37a7,7,0,0,1-7-7V345.45a7,7,0,0,1,14,0v25.92A7,7,0,0,1,40.83,378.37Z"
                                                    style="fill:#f8ec7d" />
                                                <path
                                                    d="M69.25,395a7,7,0,0,1-7-7V364.65a7,7,0,0,1,14,0V388A7,7,0,0,1,69.25,395Z"
                                                    style="fill:#f8ec7d" />
                                                <path
                                                    d="M97.68,411.41a7,7,0,0,1-7-7V383.85a7,7,0,0,1,14,0v20.56A7,7,0,0,1,97.68,411.41Z"
                                                    style="fill:#f8ec7d" />
                                                <path
                                                    d="M126.1,427.82a7,7,0,0,1-7-7V403.05a7,7,0,0,1,14,0v17.77A7,7,0,0,1,126.1,427.82Z"
                                                    style="fill:#f8ec7d" />
                                                <path
                                                    d="M154.52,444.61a7,7,0,0,1-7-7V422.25a7,7,0,0,1,14,0v15.36A7,7,0,0,1,154.52,444.61Z"
                                                    style="fill:#f8ec7d" />
                                                <path
                                                    d="M247.777,384.941a7,7,0,0,1-3.507-13.064l31.89-18.41a7,7,0,0,1,7,12.125L251.27,384A6.964,6.964,0,0,1,247.777,384.941Z"
                                                    style="fill:#f8ec7d" />
                                                <path
                                                    d="M432.039,413.22a6.975,6.975,0,0,1-4.783-1.89l-32.04-30A7,7,0,0,1,393,376.22V313.97a7,7,0,0,1,14,0v59.215l29.824,27.925a7,7,0,0,1-4.785,12.11Z"
                                                    style="fill:#da1818" />
                                            </svg>
                                            <span>{{orders[0].status}}</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="card mt-4">
                            <div class="card-body p-0 table-responsive">
                                <h4 class="p-3 mb-0">Your Orders</h4>
                                <table class="table mb-0">
                                    <thead>
                                        <tr>
                                            <th scope="col">Order ID</th>
                                            <th scope="col">Date</th>
                                            <th scope="col" colspan="2">Status</th>
                                            <th scope="col"></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let order of orders; let i = index">
                                            <td><a style="cursor: pointer;"
                                                    (click)="showOrderStatus(i)">{{order.orderId}}</a>
                                            </td>
                                            <td>{{order.orderDate | date: 'd/MM'}}</td>
                                            <td colspan="2"><strong><span
                                                        class="badge badge-warning">{{order.status}}</span></strong>
                                            </td>
                                            <td><span class="badge badge-danger" *ngIf="order.status !== 'DELIVERED'">
                                                    Cancel</span></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                    </div>
                </ng-container>
            </div>
            <div class="col-lg-8" *ngIf="isAdd">
                <!-- <div class="form__name">Shipping and Billing Form</div> -->
                <div class="form__name"> Billing Form</div>
                <div class="form__container">
                    <section class="form__personal">
                        <div class="sections">
                            <div class="box">1</div><span>Personal Information</span>
                        </div>
                        <div class="personal--form">
                            <form class="form--name" action="">
                                <div class="first">
                                    <label for="firstname">First Name</label>
                                    <input placeholder="e.g. Richard" value="{{name.fName}}" id="firstname" type="text"
                                        disabled />
                                </div>
                                <div class="last">
                                    <label for="firstname">Last Name</label>
                                    <input placeholder="e.g. Bovell" value="{{name.lName}}" id="firstname" type="text"
                                        disabled />
                                </div>
                                <div class="first">
                                    <label for="firstname">Email</label>
                                    <input placeholder="e.g. rb@apple.com" id="firstname" value="{{userdetails.email}}"
                                        type="email" disabled />
                                </div>
                                <div class="last">
                                    <label for="firstname">Contact</label>
                                    <input placeholder="e.g. rb@apple.com" id="firstname" type="email"
                                        value="{{userdetails.phoneNumber}}" disabled />
                                </div>
                            </form>
                        </div>
                    </section>
                    <section class="form__billing">
                        <div class="sections">
                            <div class="box billing">2</div><span>Billing Address</span>
                        </div>
                        <div class="shipping--form">
                            <form class="form--shipping" [formGroup]="addressForm" action="">
                                <div class="row one">
                                    <div class="address">
                                        <label for="address-one">Address Line 1</label>
                                        <input placeholder="e.g. 1 Infinite Loop" id="address-one" type="text"
                                            name="AddL1" formControlName="addressL1" />
                                    </div>
                                    <div class="address-two">
                                        <label for="address-two">Address Line 2</label>
                                        <input id="address-two" type="text" name="addL2" formControlName="addressL2" />
                                    </div>
                                </div>
                                <div class="row two">
                                    <div class="city">
                                        <label for="city">City</label>
                                        <input placeholder="e.g. Cupertino" id="city" type="text" name="City"
                                            formControlName="city" />
                                    </div>
                                    <div class="state">
                                        <label for="state">State / Province / Region</label>
                                        <input placeholder="e.g. California" id="state" type="text" name="state"
                                            formControlName="state" />
                                    </div>
                                </div>
                                <div class="row three">
                                    <div class="zip">
                                        <label for="zip">Zip / Postal Code</label>
                                        <input placeholder="e.g. 95014" id="zip" type="text" name="zip"
                                            formControlName="zip" maxlength="6" />
                                    </div>
                                    <div class="country">
                                        <label for="country">Country</label>
                                        <input placeholder="e.g. U.S.A" id="country" type="text" name="country"
                                            formControlName="country" />
                                    </div>
                                </div>
                            </form>
                        </div>
                    </section>
                    <!-- <div class="form__question">
                            <input type="checkbox" (change)="sameAddress(iSame.checked)" #iSame />
                            <p>Is your shipping address the same as your billing address ?</p>
                        </div>
                        <section class="form__shipping">
                            <div class="sections">
                                <div class="box">3</div><span>Shipping Address</span>
                            </div>
                            <div class="shipping--form">
                                <form class="form--shipping" [formGroup]="addressForm" action="">
                                    <div class="row one">
                                        <div class="address">
                                            <label for="address-one">Address Line 1</label>
                                            <input placeholder="" id="address-one" type="text" name="addL1" formControlName="bAddressL1" />
                                        </div>
                                        <div class="address-two">
                                            <label for="address-two">Address Line 2</label>
                                            <input id="address-two" type="text" name="addL2" formControlName="bAddressL2"/>
                                        </div>
                                    </div>
                                    <div class="row two">
                                        <div class="city">
                                            <label for="city">City</label>
                                            <input placeholder="" id="city" type="text" name="city" formControlName="bCity"/>
                                        </div>
                                        <div class="state">
                                            <label for="state">State / Province / Region</label>
                                            <input placeholder="" id="state" type="text" name="state" formControlName="bState"/>
                                        </div>
                                    </div>
                                    <div class="row three">
                                        <div class="zip">
                                            <label for="zip">Zip / Postal Code</label>
                                            <input placeholder="" id="zip" type="text" name="zip" formControlName="bZip"/>
                                        </div>
                                        <div class="country">
                                            <label for="country">Country</label>
                                            <input placeholder="" id="country" type="text" name="country" formControlName="bCountry"/>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </section> -->
                    <div class="form__confirmation">
                        <button [disabled]="addressForm.invalid" (click)="confirmOrder()">{{placeOrder ? 'Place Order' :
                            'Save Address' }}</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>